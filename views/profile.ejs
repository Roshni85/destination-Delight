<% layout("/layout/layout.ejs") %>
<title>Profile</title>

<style>
    .profile-container {
        max-width: 600px;
        margin: auto;
        padding: 30px;
        border-radius: 10px;
        background: white;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
        text-align: center;
    }

    .profile-pic {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid #007bff;
        transition: transform 0.3s ease;
    }

    .profile-pic:hover {
        transform: scale(1.05);
    }

    .package-card {
        padding: 15px;
        border-radius: 10px;
        background: #f8f9fa;
        box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease-in-out;
    }

    .package-card:hover {
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
    }

    .btn-custom {
        width: 100%;
        transition: background 0.3s ease;
    }

    .btn-custom:hover {
        background: #0056b3;
        color: white;
    }
</style>

<body class="bg-light">
    <div class="container mt-5">
        <div class="profile-container">
            <!-- Profile Picture -->
            <img src="<%= user.profilePic || '/images/default-avatar.png' %>" class="profile-pic mb-3" alt="Profile Picture">

            <h2 class="fw-bold"><%= user.name %></h2>
            <p class="text-muted"><strong>Email:</strong> <%= user.email %></p>

            <% if (user.isAdmin) { %>
                <p class="text-danger fw-bold">Role: ADMIN</p>
            <% } %>

            <h4 class="mt-4">Your Custom Packages</h4>

            <div class="packages mt-3">
                <% if (customPackages.length > 0) { %>
                    <% customPackages.forEach(package => { %>
                        <div class="package-card mb-3 p-3">
                            <h5 class="fw-bold"><%= package.title %></h5>
                            <p><strong>Destination:</strong> <%= package.destination %></p>
                            <p><strong>Price:</strong> â‚¹<%= package.price %></p>
                           
                        </div>
                    <% }) %>
                <% } else { %>
                    <p class="text-center text-muted">You haven't created any custom packages yet.</p>
                <% } %>
            </div>

            <!-- Buttons -->
            <div class="d-flex justify-content-between mt-4">
                <a href="/packages" class="btn btn-outline-dark">Back to Home</a>
                <a href="/logout" class="btn btn-danger">Logout</a>
            </div>
        </div>
    </div>
</body>
</html>
